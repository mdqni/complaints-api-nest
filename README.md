# Complaints API (NestJS + gRPC + RabbitMQ)

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂–∞–ª–æ–±–∞–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.  
–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **NestJS**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **gRPC** –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ **RabbitMQ** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.  
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ **Redis**, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî **PostgreSQL (Prisma ORM)**.  

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **NestJS** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫  
- **gRPC** ‚Äî –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏  
- **RabbitMQ** ‚Äî –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Å–æ–±—ã—Ç–∏–π  
- **PostgreSQL** + **Prisma ORM** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  
- **Redis** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ  
- **Docker Compose** ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (DB, Redis, RabbitMQ)  

---

## üìÇ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
complaints-api-nest/
‚îÇ‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ complaints-service/    # —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂–∞–ª–æ–±–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ categories-service/    # —Å–µ—Ä–≤–∏—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∂–∞–ª–æ–±
‚îÇ
‚îÇ‚îÄ‚îÄ libs/
‚îÇ   ‚îú‚îÄ‚îÄ proto/                 # gRPC .proto —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ rabbitmq/              # –º–æ–¥—É–ª—å RabbitMQ
‚îÇ   ‚îî‚îÄ‚îÄ redis/                 # –º–æ–¥—É–ª—å Redis
‚îÇ   ‚îî‚îÄ‚îÄ prisma/                 # –º–æ–¥—É–ª—å Prisma
‚îÇ
‚îÇ‚îÄ‚îÄ docker-compose.yml         # –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Postgres, Redis, RabbitMQ)
‚îÇ‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone git@github.com:mdqni/complaints-api-nest.git
cd complaints-api-nest
```

### 2. –ü–æ–¥–Ω–∏–º–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
```bash
docker compose up -d
```
–ü–æ–¥–Ω–∏–º—É—Ç—Å—è:
- PostgreSQL (–ø–æ—Ä—Ç `5432`)  
- Redis (–ø–æ—Ä—Ç `6379`)  
- RabbitMQ + –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–æ—Ä—Ç `15672`)  

üëâ –ü–∞–Ω–µ–ª—å RabbitMQ: [http://localhost:15672](http://localhost:15672) (–ª–æ–≥–∏–Ω: `guest`, –ø–∞—Ä–æ–ª—å: `guest`)

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install
```

### 4. –ü—Ä–æ–≥–æ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
npx prisma migrate dev
```

### 5. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã
#### –ñ–∞–ª–æ–±—ã
```bash
npm run start:dev complaints-service
```
#### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```bash
npm run start:dev categories-service
```

#### –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```bash
npm run start:all
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT
